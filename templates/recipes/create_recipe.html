{% extends 'base.html' %} {% load widget_tweaks %} {% block content %}
<div class="container">
  <h2 class="mt-4 text-center">Create a New Recipe</h2>

  <!-- Display general form errors -->
  {% if form.errors %}
  <div class="alert alert-danger">
    <strong>Please correct the errors below:</strong>
    <ul>
      {% for field, errors in form.errors.items %}
      <li>{{ field }}: {{ errors|join:", " }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <form
    method="POST"
    enctype="multipart/form-data"
    class="mt-4"
    style="max-width: 600px; margin: auto"
  >
    {% csrf_token %}
    <div class="form-group mb-3">
      <!-- Title Field -->
      <label for="{{ form.title.id_for_label }}">Recipe Title</label>
      {{ form.title|add_class:"form-control" }}
      <small class="form-text text-muted">{{ form.title.help_text }}</small>

      {% if form.title.errors %}
      <div class="text-danger">{{ form.title.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Featured Image Field -->
      <label for="{{ form.featured_image.id_for_label }}">Image</label>
      {{ form.featured_image|add_class:"form-control-file" }}
      <small class="form-text text-muted"
        >{{ form.featured_image.help_text }}</small
      >

      {% if form.featured_image.errors %}
      <div class="text-danger">{{ form.featured_image.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Description Field -->
      <label for="{{ form.description.id_for_label }}">Description</label>
      {{ form.description|add_class:"form-control" }}
      <small class="form-text text-muted"
        >{{ form.description.help_text }}</small
      >

      {% if form.description.errors %}
      <div class="text-danger">{{ form.description.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Ingredients Field -->
      <label for="{{ form.ingredients.id_for_label }}">Ingredients</label>
      {{ form.ingredients|add_class:"form-control" }}
      <small class="form-text text-muted"
        >{{ form.ingredients.help_text }}</small
      >

      {% if form.ingredients.errors %}
      <div class="text-danger">{{ form.ingredients.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Instructions Field -->
      <label for="{{ form.instructions.id_for_label }}">Instructions</label>
      {{ form.instructions|add_class:"form-control" }}
      <small class="form-text text-muted"
        >{{ form.instructions.help_text }}</small
      >

      {% if form.instructions.errors %}
      <div class="text-danger">{{ form.instructions.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Cooking Time Field -->
      <label for="{{ form.cooking_time.id_for_label }}"
        >Cooking Time (in minutes)</label
      >
      {{ form.cooking_time|add_class:"form-control" }}
      <small class="form-text text-muted"
        >{{ form.cooking_time.help_text }}</small
      >

      {% if form.cooking_time.errors %}
      <div class="text-danger">{{ form.cooking_time.errors }}</div>
      {% endif %}
    </div>

    <div class="form-group mb-3">
      <!-- Servings Field -->
      <label for="{{ form.servings.id_for_label }}">Number of Servings</label>
      {{ form.servings|add_class:"form-control" }}
      <small class="form-text text-muted">{{ form.servings.help_text }}</small>

      {% if form.servings.errors %}
      <div class="text-danger">{{ form.servings.errors }}</div>
      {% endif %}
    </div>

    <div class="text-center mb-4">
      <button type="submit" class="btn btn-custom">Submit Recipe</button>
    </div>
  </form>
</div>
{% endblock %}
